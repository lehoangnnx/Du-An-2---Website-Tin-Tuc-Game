$(document).ready(function(){var e=null;$("#email").on("keyup keypress keydown",function(){var t=$("#email").val(),a=/^[\w\-\.\+]+\@[a-zA-Z0-9\.\-]+\.[a-zA-z0-9]{2,4}$/;t.match(a)&&0!=t.length&&(clearTimeout(e),e=setTimeout(function(){var e={};e.userId=$("#userId").val(),e.email=$("#email").val();var t=$("meta[name='_csrf']").attr("content"),a=$("meta[name='_csrf_header']").attr("content");$(document).ajaxSend(function(e,r){r.setRequestHeader(a,t)}),$.ajax({type:"POST",contentType:"application/json",url:contextPath+"/admin/validator-user",data:JSON.stringify(e),success:function(e){return"erroremail"==e?($("#email-error").text("Email Đã Tồn Tại"),$("#email").focus(),$("#btn-submit").prop("disabled",!0),!1):"successemail"==e?($("#email-error").text(""),$("#btn-submit").prop("disabled",!1),!0):void 0},error:function(){alert("Lỗi ! Vui Lòng Kiểm Tra Lại")}})},200))})}),$(document).ready(function(){$("#btn-submit").prop("disabled",!0),$("#formUser").change(function(){$("#btn-submit").prop("disabled",!1)});var e=$("#msg").val();""!=e&&alert(e)}),$(document).ready(function(){$("#btn-submit").click(function(e){var t=$("#firstName").val().trim(),a=$("#lastName").val().trim(),r=$("#email").val().trim(),n=$("#phoneNumber").val().trim(),i=/^(01[2689]|09)[0-9]{8}$/,m=/^[A-Za-zÀÁÂÃÈÉÊÌÍÒÓÔÕÙÚÝàáâãèéêìíòóôõùúýĂăĐđĨĩŨũƠơƯưẠ-ỹ]+$/,l=/[A-Z0-9._%+-]+@[A-Z0-9-]+.+.[A-Z]{2,4}/gim;return r.match(l)&&0!=r.length?t.match(m)||0==t.length?a.match(m)||0==a.length?n.match(i)||0==n.length?($("#lastName-error").text(""),$("#firstName-error").text(""),$("#email-error").text(""),$("#phoneNumber-error").text(""),!0):($("#phoneNumber-error").text("Vui Lòng Nhập Đúng Số Điện Thoại"),$("#lastName-error").text(""),$("#lastName").focus(),e.preventDefault(),!1):($("#lastName-error").text("Vui Lòng Nhập Đúng Tên"),$("#firstName-error").text(""),$("#lastName").focus(),e.preventDefault(),!1):($("#firstName-error").text("Vui Lòng Nhập Đúng Họ"),$("#email-error").text(""),$("#firstName").focus(),e.preventDefault(),!1):($("#email-error").text("Vui Lòng Nhập Email"),$("#email").focus(),e.preventDefault(),!1)})}),$("#formUser").validate({rules:{email:{required:!0,email:!0,maxlength:255},firstName:{maxlength:255},lastName:{maxlength:255},phoneNumber:{maxlength:15},roleses:{required:!0},avatar:{accept:"image/*"}},messages:{email:{required:"Vui Lòng Nhập Email",email:"Vui Lòng Nhập Đúng Email",maxlength:"Email Tối Đa 255 Ký Tự."},firstName:{maxlength:"Họ Tối Đa 255 Ký Tự."},lastName:{maxlength:"Tên Tối Đa 255 Ký Tự."},phoneNumber:{maxlength:"Số Điện Thoại Tối Đa 15 Ký Tự."},roleses:{required:"Vui Lòng Chọn Quyền"},avatar:{accept:"Vui Lòng Chọn File Ảnh"}}});